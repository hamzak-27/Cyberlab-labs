# OpenVPN Server Configuration for Cybersecurity Labs
# HackTheBox-style VPN setup

# Network configuration
port 1194
proto udp
dev tun
local 0.0.0.0

# SSL/TLS certificates and keys
ca C:/Users/ihamz/labs-backend/certificates/ca.crt
cert C:/Users/ihamz/labs-backend/certificates/server.crt
key C:/Users/ihamz/labs-backend/certificates/server.key
dh C:/Users/ihamz/labs-backend/certificates/dh.pem
tls-auth C:/Users/ihamz/labs-backend/certificates/ta.key 0

# Network topology
server 10.10.10.0 255.255.255.0
topology subnet

# Route lab network to clients
push "route 10.10.10.0 255.255.255.0"
push "route 192.168.100.0 255.255.255.0"

# Client configuration
client-to-client

# Security settings
auth SHA256
tls-version-min 1.2

# Connection settings
keepalive 10 120
persist-key
persist-tun

# Logging
verb 4
status openvpn-status.log

# Allow multiple clients with same certificate (for development)
duplicate-cn
